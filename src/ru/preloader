<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=">
  <title>First page</title>
  <style>.preload{position:fixed;top:0;left:0;right:0;bottom:0;}

.preload__top,.preload__bottom{width:100vw;height:100vh;transition:1s cubic-bezier(.22,.61,.36,1);transition-delay:.8s;}.preload__top {  background-color: white;}.preload__bottom {background-color:black;}.preload__text{color:grey;position:absolute;top:50%;left:50%;z-index: 99999;}
.skip-link {
  background: #319795;
  color: #fff;
  font-weight: 700;
  left: 50%;
  padding: 4px;
  position: absolute;
  transform: translateY(-100%);
transition: transform 0.3s;
}

.skip-link:focus {
  transform: translateY(0%);
}

</style>

</head>
<body class="g-scroll_no">
   <main>
<div class="preload">
  <div class="preload__top"></div>
  <span class="preload__text">victory</span>
  <div class="preload__bottom"></div>
</div>

<a class="skip-link" href="#main">
  Skip to content
</a>

<a href="../shpo/second.html" id="main">link to second</a>
     <img src="https://images.unsplash.com/photo-1593642702909-dec73df255d7?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60" alt="">
<p>Lorem10</p>
<img src="https://images.unsplash.com/photo-1594671658937-09ac0c285e23?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60" alt="">
<p>Lorem10</p>
<img src="https://images.unsplash.com/photo-1594725224909-0e66d59ed0f1?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60" alt="">
<p>Lorem10</p>
<img src="https://images.unsplash.com/photo-1594706243394-4523943cabb1?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60" alt="">
<p>Lorem10</p>
<img src="https://images.unsplash.com/photo-1594716233209-8a3840e19655?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60" alt="">
<p>Lorem10</p>

   </main>
  <script>
	let preload = document.querySelector('.preload'),
    preloaderTop = document.querySelector('.preload__top'),
    preloaderBottom = document.querySelector('.preload__bottom');

function delPreload() {

  preload.remove();
document.body.classList.remove('g-scroll_no')
}

function moveTop() {

preloaderBottom.style.transform='translateY(-200vh)';
preloaderTop.style.transform='translateY(-100vh)';
};

function moveBottom() {
preloaderBottom.style.transform='translateY(-100vh)';
};

  window.onload = function () {
      //document.body.classList.add('loaded_hiding');
      //preloaderTop.style.transform='translateY(-1000px)';
      //preloaderBottom.style.transform='translateY(-1000px)';
	moveBottom();
	preloaderBottom.addEventListener('transitionend', moveTop);



preloaderTop.addEventListener('transitionend', delPreload)


    }
  </script>
</body>
</html>








<nav class="header__menu" id="js-nav-line">
        <ul itemscope itemtype="https://schema.org/SiteNavigationElement" role="menu" class=" header__menu_style header__items">
          <li itemprop="name" role="none" class="header__items-item"><a itemprop="url" role="menuitem" href="#" class="g-nav header__items_line header__items-item_lnk" aria-label="ссылка на раздел 'Обо мне'" id="about">Обо мне</a></li>
          <li itemprop="name" role="none" class="header__items-item"><a itemprop="url" role="menuitem" href="#" class="g-nav header__items_line header__items-item_lnk" aria-label="ссылка на раздел 'Портфолио'" id="portfolio">Портфолио</a></li>
          <li itemprop="name" role="none" class="header__items-item"><a itemprop="url" role="menuitem" href="#" class="g-nav header__items_line header__items-item_lnk" aria-label="ссылка на раздел 'Услуги'" id="service">Услуги</a></li>
          <li itemprop="name" role="none" class="header__items-item"><a itemprop="url" role="menuitem" href="#" class="g-nav header__items_line header__items-item_lnk" aria-label="ссылка на раздел 'Контакты'" id="contacts">Контакты</a></li>
        </ul>

        <span class="header__line" id="about"></span>
      </nav>
















      var currentPage = document.querySelector('.header__line');

startLine();
var currentElem = null;
var parent = document.querySelector('#js-nav-line');
parent.onmouseover = function(event) {
  if (currentElem) return;
  let target = event.target.closest('a.g-nav');
  if (!target) return;
  currentElem = target;
  line(currentElem.id);
};

parent.onmouseout = function(event) {
  if (!currentElem) return;
  let relatedTarget = event.relatedTarget;
  while (relatedTarget) {

    if (relatedTarget == currentElem) return;

    relatedTarget = relatedTarget.parentNode;

  }
      startLine();
  currentElem = null;
};

function line(id) {
  currentPage.style.width = `${currentElem.getBoundingClientRect().width-50}px`;
  currentPage.style.transform = `translateX(${currentElem.getBoundingClientRect().x+16}px)`;

}

function startLine() {
  let current = document.querySelector('#'+currentPage.id);
  currentPage.style.width = `${current.getBoundingClientRect().width-50}px`;
  currentPage.style.transform = `translateX(${current.getBoundingClientRect().x+16}px)`;
}



<!-- ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; -->


(function(){
'use strict';
}).call(this)
"use strict";

var el;

var currentElem = null;
var parent = document.querySelector('#contacts');
parent.onmouseover = function(event) {
  if (currentElem) return;
  let target = event.target.closest('a.g-a-mail');
  if (!target) return;
  currentElem = target;
  splitter(currentElem.id);
};

parent.onmouseout = function(event) {
  if (!currentElem) return;
  let relatedTarget = event.relatedTarget;
  while (relatedTarget) {

    if (relatedTarget == currentElem) return;

    relatedTarget = relatedTarget.parentNode;

  }
      // merger(currentElem.id);
  currentElem = null;
};

function splitter(id) {

  id = '#' + id;
  el = document.querySelector(id).innerText.split("")
  document.querySelector(id).innerText = '';

  let span = new DocumentFragment();

  for (let i = 0; i < el.length; i++) {
    let tmp = document.createElement('span');
    tmp.innerText = el[i];
    tmp.className = 'g-a-mail char-class g_grey10';
    span.append(tmp);
  };

  document.querySelector(id).append(span);
  animation(id);
};


// function merger(id) {
//   id = '#' + id;
//   let span = document.querySelectorAll('.char-class');
//   for (let i = 0; i < span.length; i++) {
//     span[i].remove();
//   }

//   document.querySelector(id).innerText = el.join('')

//   return;
// }

function animation(id) {
  let dom = {el: document.querySelector(id)};
  dom.letters = [dom.el.querySelectorAll('span')];


            TweenMax.killTweensOf(dom.letters);
            TweenMax.set(dom.letters, {opacity: 0});
            TweenMax.staggerTo(dom.letters, 0.8, {
                ease: Elastic.easeOut.config(1,0.6),
                startAt: {y: '-70%'},
                y: '0%',
                opacity: 1
            }, 0.025);
}

// var navLine = new Vue ({
//   el: '#js-nav-line',
//   data: {
//     isActive: {
//       'header__line_about': false,
//       'header__line_portfolio': false,
//       'header__line_service': false,
//       'header__line_contacts': false
//     },
//     lineConst: ''
//   },
//   methods: {
//     click: function(el) {
//       this.lineConst = el;
//       this.clear();
//       this.isActive[this.lineConst] = true;
//     },
//     hover: function(el) {
//       this.clear();
//       this.isActive[el] = true;
//     },
//     leave: function(){
//       this.clear();
//       this.isActive[this.lineConst] = true;
//     },
//     clear: function() {
//       for (var key in this.isActive) {
//         this.isActive[key] = false;
//       };
//     }
//   },
//   watch: {
//     adress: function() {

//         this.isActive[this.lineConst] = true;

//     }
//   }
// });


// Vue.directive('scroll', {
//   inserted: function (el, binding) {
//     let f = function (evt) {
//       if (binding.value(evt, el)) {
//         window.removeEventListener('scroll', f)
//       }
//     }
//     window.addEventListener('scroll', f)
//   }
// })

// var scroll = new Vue({
//   el: '#js-scroll',
//   methods: {
//     position: function (evt, el) {

//       if (el.getBoundingClientRect().top < window.innerHeight/2  && el.getBoundingClientRect().bottom > 0) {
//         document.querySelectorAll('body, .g-h1, .g-h2, .g-h3, .g-h4, .g-h5, .g-h6, .g-p, .g-tag, .g-tag-link, .g-p_grey70, .service-items__type_style, .g-a, .a_style, g-span').forEach(function(i){i.classList.remove('fade-out')});

//         document.querySelector('body').classList.add('g-body');
//         document.querySelectorAll('body, .g-h1, .g-h2, .g-h3, .g-h4, .g-h5, .g-h6, .g-p, .g-tag, .g-tag-link, .g-p_grey70, .service-items__type_style, .g-a, .a_style, .g-span').forEach(function(i){i.classList.add('fade-in')});
//         document.querySelectorAll('.g-h1, .g-h2, .g-h3, .g-h4, .g-h5, .g-h6, .g-p').forEach(function(i){i.classList.add('g_grey10')});
//         document.querySelectorAll('.g-tag, .g-tag-link').forEach(function(i){i.classList.add('g_grey40')});
//         document.querySelectorAll('.g-p_grey70, .g-span').forEach(function(i){i.classList.add('g_grey30')});
//         // document.querySelectorAll('.g-span').forEach(function(i){i.classList.add('g_grey30')});
//         document.querySelectorAll('.service-items__type_style, .stage-block__item').forEach(function(i){i.classList.add('g_hr40')});
//         // document.querySelectorAll('.g-a').forEach(function(i){i.classList.add('g_grey20')});
//         // document.querySelectorAll('.a_style').forEach(function(i){i.classList.add('a_style-grey20')});

//       } else  {
//           document.querySelectorAll('body, .g-h1, .g-h2, .g-h3, .g-h4, .g-h5, .g-h6, .g-p, .g-tag, .g-tag-link, .g-p_grey70, .service-items__type_style, .g-a, .a_style, .g-span').forEach(function(i){i.classList.remove('fade-in')});
//           document.querySelector('body').classList.remove('g-body');
//           document.querySelectorAll('.g-h1, .g-h2, .g-h3, .g-h4, .g-h5, .g-h6, .g-p').forEach(function(i){i.classList.remove('g_grey10')});
//           document.querySelectorAll('.g-tag, .g-tag-link').forEach(function(i){i.classList.remove('g_grey40')});
//           document.querySelectorAll('.g-p_grey70, .g-span').forEach(function(i){i.classList.remove('g_grey30')});
//           // document.querySelectorAll('.g-span').forEach(function(i){i.classList.remove('g_grey30')});
//           document.querySelectorAll('.service-items__type_style, .stage-block__item').forEach(function(i){i.classList.remove('g_hr40')});
//           // document.querySelectorAll('.g-a').forEach(function(i){i.classList.remove('g_grey20')});
//           // document.querySelectorAll('.a_style').forEach(function(i){i.classList.remove('a_style-grey20')});


//           document.querySelectorAll('body, .g-h1, .g-h2, .g-h3, .g-h4, .g-h5, .g-h6, .g-p, .g-tag, .g-tag-link, .g-p_grey70, .service-items__type_style, .g-a, .a_style, .g-span').forEach(function(i){i.classList.add('fade-out')});
//       }
//     }
//   }
// });



// ***************************************
// Курсор

const $$ = s =>
  Array.prototype.slice.call(
    document.querySelectorAll(s)
  )
const isEl = obj => obj instanceof HTMLElement
const isStr = obj => Object.prototype.toString.call(obj) === '[object String]'

const cursorDot = ({
  diameter = 80,
  borderWidth = 1,
  borderColor = '#fff',
  easing = 4,
  background = 'transparent'
} = {}) => {
  let inited = false
  const alt = { x: 0, y: 0, o: 1, d: diameter }
  const cur = { x: 0, y: 0, o: 0, d: diameter }
  const dot = document.createElement('div')
  const tim = easing / 15

  document.addEventListener('mousemove', e => {
    alt.x = e.clientX
    alt.y = e.clientY
    dot.style.opacity = 1
    if (!inited) {
      cur.x = alt.x
      cur.y = alt.y
      inited = true
    }
  })

  const draw = () => {
    dot.style.opacity = 1
    const dX = alt.x - cur.x
    const dY = alt.y - cur.y
    cur.x += (dX / easing)
    cur.y += (dY / easing)
    const t3d = `translate3d(${cur.x - cur.d / 2}px,${cur.y - cur.d / 2}px,0)`
    dot.style.webkitTransform = t3d
    dot.style.transform = t3d

    const dO = alt.o - cur.o
    cur.o += dO / easing
    dot.style.opacity = cur.o

    const dD = alt.d - cur.d
    cur.d += dD / easing
    dot.style.height = cur.d + 'px'
    dot.style.width = cur.d + 'px'

    try {
      requestAnimationFrame(draw)
    } catch(_) {
      setImmediate(draw)
    }
  }

  dot.over = (any, style) => {
    const fn = el => {
      el.addEventListener('mouseover', _ => {
        if (style.background) dot.style.backgroundColor = style.background
        if (style.borderColor) dot.style.borderColor = style.borderColor
        if (style.scale) alt.d = diameter * style.scale;
      document.body.append(dot);
      dot.id = 'cursor';
      dot.style = `position:fixed;top:0;left:0;border-radius:100%;pointer-events:none;opacity:0;height:${diameter}px;width:${diameter}px;background:${background};border:${borderWidth}px solid ${borderColor};mix-blend-mode:exclusion;transition:background ${tim}s,border ${tim}s`;
      draw();

      })
      el.addEventListener('mouseout', _ => {
        if (style.background) dot.style.backgroundColor = background
        if (style.borderColor) dot.style.borderColor = borderColor
        if (style.scale) alt.d = diameter;
        setTimeout(removeDot, 300);
      })
    }
    if (isEl(any)) fn(any)
    else if (isStr(any)) $$(any).forEach(fn)
  }
  return dot
}


const $ = s => document.querySelector(s)

const cursor = cursorDot({
  easing: 16,
  background: '#0652C5',
  diameter: 5,
  borderWidth: 1 ,
  borderColor: 'transparent'
})

cursor.over($('#js-a-about'), {
  scale: 12,
  background: '#0652C5',
  borderColor: 'transparent'
})

cursor.over($('#js-a-portfolio'), {
  scale: 12,
  background: '#2A2928',
  borderColor: 'transparent'
})

cursor.over($('#js-a-service'), {
  scale: 12,
  background: '#DCDBDA',
  borderColor: 'transparent'
})

cursor.over($('#js-a-contacts'), {
  scale: 12,
  background: '#DCDBDA',
  borderColor: 'transparent'
})

cursor.over($('#js-a-stage_1'), {
  scale: 12,
  background: '#DCDBDA',
  borderColor: 'transparent'
})

cursor.over($('#js-a-stage_2'), {
  scale: 12,
  background: '#DCDBDA',
  borderColor: 'transparent'
})

cursor.over($('#js-a-stage_3'), {
  scale: 12,
  background: '#DCDBDA',
  borderColor: 'transparent'
})

cursor.over($('#js-a-landing'), {
  scale: 12,
  background: '#DCDBDA',
  borderColor: 'transparent'
})

cursor.over($('#js-a-folio'), {
  scale: 12,
  background: '#DCDBDA',
  borderColor: 'transparent'
})

cursor.over($('#js-a-promo'), {
  scale: 12,
  background: '#DCDBDA',
  borderColor: 'transparent'
})

cursor.over($('#js-a-corp'), {
  scale: 12,
  background: '#DCDBDA',
  borderColor: 'transparent'
})

cursor.over($('#js-a-ui'), {
  scale: 12,
  background: '#DCDBDA',
  borderColor: 'transparent'
})

cursor.over($('#js-a-design'), {
  scale: 12,
  background: '#DCDBDA',
  borderColor: 'transparent'
})

cursor.over($('#js-a-anim'), {
  scale: 12,
  background: '#DCDBDA',
  borderColor: 'transparent'
})

cursor.over($('#js-a-html'), {
  scale: 12,
  background: '#DCDBDA',
  borderColor: 'transparent'
})

cursor.over($('#js-a-tilda'), {
  scale: 12,
  background: '#DCDBDA',
  borderColor: 'transparent'
})

cursor.over($('#js-a-cms'), {
  scale: 12,
  background: '#DCDBDA',
  borderColor: 'transparent'
})

cursor.over($('#js-a-framework'), {
  scale: 12,
  background: '#DCDBDA',
  borderColor: 'transparent'
})

cursor.over($('#js-a-leica'), {
  scale: 12,
  background: '#DCDBDA',
  borderColor: 'transparent'
})

cursor.over($('#js-a-beard'), {
  scale: 12,
  background: '#DCDBDA',
  borderColor: 'transparent'
})

cursor.over($('#js-a-wild'), {
  scale: 12,
  background: '#DCDBDA',
  borderColor: 'transparent'
})

// cursor.over($('.contacts_big-link'), {
//   scale: 20,
//   background: '#2A2928',
//   borderColor: 'transparent'
// })



function removeDot() {

  if (document.querySelector('#cursor')) {
    document.querySelector('#cursor').remove();
  } else {
    return;
  }

  return;
}


// *************************** Скролл портфолио ***************************
//


// var textPath = document.querySelector('#text-path');

// var textContainer = document.querySelector('#text-container');

// var path = document.querySelector( textPath.getAttribute('href') );

// var pathLength = path.getTotalLength();

// function updateTextPathOffset(offset){
//   textPath.setAttribute('startOffset', offset);
// }

// updateTextPathOffset(pathLength);

// function onScroll(){
//   requestAnimationFrame(function(){
//     var rect = textContainer.getBoundingClientRect();
//     var scrollPercent = rect.y / window.innerHeight;
//     updateTextPathOffset( scrollPercent * 2 * pathLength );
//   });
// }

// window.addEventListener('scroll',onScroll);



// *************************** Волновой эффект ***************************
//


// function linkDistored() {

//   var tl = gsap.timeline({repeat:-1, yoyo:true, repeatDelay: 0});
//   tl.to('#turbwave', {
//     ease: 'none',
//     attr: {"baseFrequency":0.0112}
//   })
//   .to('#turbwave', {
//     ease: 'none',
//     attr: {"baseFrequency":0.0149}
//   })
// . to('#turbwave', {
//     ease: 'none',
//     duration: 3,
//     attr: {"baseFrequency":0.0},
//   });
// }

// function linkDistoredMain() {

//   var tl = gsap.timeline({repeat:-1, yoyo:true, repeatDelay: 0});
//   tl.to('#turbwave', {
//     ease: 'none',
//     duration: 2,
//     attr: {"baseFrequency":0.01400}
//   })
//   .to('#turbwave', {
//     ease: 'none',
//     duration: 1,
//     attr: {"baseFrequency":0.01000}
//   })
//   .to('#turbwave', {
//     ease: 'none',
//     duration: 0,
//     attr: {"baseFrequency":0.0600}
//   });
// }

// function rndnum() {
//   return Math.random() * (0.0119 - 0.001) + 0.001;
// }


/* *********************** Анимация появления текста при скролле *************************************** */

var title = document.querySelectorAll('#js-title_animation');
var paragraph = document.querySelectorAll('#js-paragraphg_animation');
var link = document.querySelectorAll('#js-a-about, #js-a-portfolio, #js-a-service, #js-a-contacts, #js-a-stage_1, #js-a-stage_2, #js-a-stage_3, #js-a-landing, #js-a-folio, #js-a-promo, #js-a-corp, #js-a-ui, #js-a-design, #js-a-anim, #js-a-html, #js-a-tilda, #js-a-cms, #js-a-framework, #js-a-leica, #js-a-beard, #js-a-wild');
var moveIn = document.querySelectorAll('#js-move-in');
var picture = document.querySelectorAll('.portfolio__item-img');
var scroll = document.querySelectorAll('#js-scroll');



window.addEventListener('scroll', function() {

  title.forEach(function(i) {
    if (i.getBoundingClientRect().top < window.innerHeight && i.getBoundingClientRect().top > 0) {i.classList.add('g-title_animation')} else if (i.getBoundingClientRect().top < -1) {i.classList.add('g-title_animation')}

  })

  paragraph.forEach(function(i) {
    if (i.getBoundingClientRect().top < window.innerHeight && i.getBoundingClientRect().top > 0) {i.classList.add('g-paragraph_animation')} else if (i.getBoundingClientRect().top < -1) {i.classList.add('g-paragraph_animation')}})

  link.forEach(function(i) {
    if (i.getBoundingClientRect().top < window.innerHeight && i.getBoundingClientRect().top > 0) {i.classList.add('g-link_animation')} else if (i.getBoundingClientRect().top < -1) {i.classList.add('g-link_animation')}
  })

  // moveIn.forEach(function(i) {
  //   if (i.getBoundingClientRect().top < window.innerHeight && i.getBoundingClientRect().top > 0) {i.style.transform = 'translateY(0px)'; i.classList.add('g-title_animation')}
  // })
  moveIn.forEach(function(i) {
    if (i.getBoundingClientRect().top < window.innerHeight && i.getBoundingClientRect().top > 0) {i.style.transform = 'translateY(0px)';} else if (i.getBoundingClientRect().top < -1) {i.style.transform = 'translateY(0px)';}
  })

    // desc.forEach(function(i) {
    // if (i.getBoundingClientRect().top < window.innerHeight && i.getBoundingClientRect().top > 0) {i.classList.add('animation-desc')}
    // })

    // picture.forEach(function(i) {
    // if (i.getBoundingClientRect().top < window.innerHeight && i.getBoundingClientRect().top > 0) {
    //     i.classList.add('animation-picture');
    //     // i.style.transform = `scale(${1+(30/i.getBoundingClientRect().top)})`;

    //     console.log(i.getBoundingClientRect().top);
    //   }
    // })

    // document.querySelector('#sign').remove();
    // stopInterval();
    //

    scroll.forEach(function(i){
      if (i.getBoundingClientRect().top < window.innerHeight/2  && i.getBoundingClientRect().bottom > 0) {
        document.querySelectorAll('body, .g-h1, .g-h2, .g-h3, .g-h4, .g-h5, .g-h6, .g-p, .g-tag, .g-tag-link, .g-p_grey70, .service-items__type_style, .g-a, .a_style, g-span').forEach(function(i){i.classList.remove('fade-out')});

        document.querySelector('body').classList.add('g-body');
        document.querySelectorAll('body, .g-h1, .g-h2, .g-h3, .g-h4, .g-h5, .g-h6, .g-p, .g-tag, .g-tag-link, .g-p_grey70, .service-items__type_style, .g-a, .a_style, .g-span').forEach(function(i){i.classList.add('fade-in')});
        document.querySelectorAll('.g-h1, .g-h2, .g-h3, .g-h4, .g-h5, .g-h6, .g-p').forEach(function(i){i.classList.add('g_grey10')});
        document.querySelectorAll('.g-tag, .g-tag-link').forEach(function(i){i.classList.add('g_grey40')});
        document.querySelectorAll('.g-p_grey70, .g-span').forEach(function(i){i.classList.add('g_grey30')});
        // document.querySelectorAll('.g-span').forEach(function(i){i.classList.add('g_grey30')});
        document.querySelectorAll('.service-items__type_style, .stage-block__item').forEach(function(i){i.classList.add('g_hr40')});
        // document.querySelectorAll('.g-a').forEach(function(i){i.classList.add('g_grey20')});
        // document.querySelectorAll('.a_style').forEach(function(i){i.classList.add('a_style-grey20')});

      } else  {
          document.querySelectorAll('body, .g-h1, .g-h2, .g-h3, .g-h4, .g-h5, .g-h6, .g-p, .g-tag, .g-tag-link, .g-p_grey70, .service-items__type_style, .g-a, .a_style, .g-span').forEach(function(i){i.classList.remove('fade-in')});
          document.querySelector('body').classList.remove('g-body');
          document.querySelectorAll('.g-h1, .g-h2, .g-h3, .g-h4, .g-h5, .g-h6, .g-p').forEach(function(i){i.classList.remove('g_grey10')});
          document.querySelectorAll('.g-tag, .g-tag-link').forEach(function(i){i.classList.remove('g_grey40')});
          document.querySelectorAll('.g-p_grey70, .g-span').forEach(function(i){i.classList.remove('g_grey30')});
          // document.querySelectorAll('.g-span').forEach(function(i){i.classList.remove('g_grey30')});
          document.querySelectorAll('.service-items__type_style, .stage-block__item').forEach(function(i){i.classList.remove('g_hr40')});
          // document.querySelectorAll('.g-a').forEach(function(i){i.classList.remove('g_grey20')});
          // document.querySelectorAll('.a_style').forEach(function(i){i.classList.remove('a_style-grey20')});


          document.querySelectorAll('body, .g-h1, .g-h2, .g-h3, .g-h4, .g-h5, .g-h6, .g-p, .g-tag, .g-tag-link, .g-p_grey70, .service-items__type_style, .g-a, .a_style, .g-span').forEach(function(i){i.classList.add('fade-out')});
      }
    })



    if (document.querySelector('#sign')) {
      document.querySelector('#sign').remove();
      stopInterval();
    } else {

    }

})
// window.addEventListener('scroll', () => {console.log(document.querySelector('.heading__h1').getBoundingClientRect().top)})



var interval = setInterval(animation, 2000, '#sign');

function stopInterval() {
  clearInterval(interval);
  return;
}


/* *********************** Мобильное меню*************************************** */

var menuBtn = document.querySelector('#checkbox');

menuBtn.addEventListener('click', function() {
  // document.querySelectorAll('.header_grey90').forEach(function(i){i.classList.toggle('header_grey10')});
  // document.querySelectorAll('.header_grey90').forEach(function(i){i.classList.toggle('fade-out')});
  // document.querySelectorAll('.header_grey90').forEach(function(i){i.classList.toggle('fade-in')});
  // document.querySelectorAll('.g-lng').forEach(function(i){
  //   if (!i.style.color) {i.style.color = '#100F0F'}
  //   else {i.removeAttribute('style')};
  // });
  document.querySelectorAll('.header__items-item_lnk').forEach(function(i){i.classList.toggle('g-title_animation');
    if (!i.style.transform) {i.style.transform = 'translateY(0px)'}
      else {i.removeAttribute('style')}

  });

  document.querySelector('.g-menu_bkg').classList.toggle('g-menu_bkg-open');
  document.querySelector('body').classList.toggle('g-scroll_no');
})



/* *********************** Активный пункт меню*************************************** */


      var currentPage = document.querySelector('.header__line');

startLine();
var currentElement = null;
var parents = document.querySelector('#js-nav-line');
parents.onmouseover = function(event) {
  if (currentElement) return;
  let target = event.target.closest('a.g-nav');
  if (!target) return;
  currentElement = target;
  line(currentElement.id);
};

parents.onmouseout = function(event) {
  if (!currentElement) return;
  let relatedTarget = event.relatedTarget;
  while (relatedTarget) {

    if (relatedTarget == currentElement) return;

    relatedTarget = relatedTarget.parentNode;

  }
      startLine();
  currentElement = null;
};

function line(id) {
  let nav = document.querySelector('nav');
  currentPage.style.width = `${currentElement.getBoundingClientRect().width-50}px`;
  currentPage.style.transform = `translateX(${(currentElement.getBoundingClientRect().x - nav.getBoundingClientRect().x) +25}px)`;

}

function startLine() {
  let nav = document.querySelector('nav');
  let current = document.querySelector('#'+currentPage.id);
  if (current.id == 'm-main') {
    currentPage.style.width = '0px';
    currentPage.style.transform = 'translateX(-8px)';
  } else {
      currentPage.style.width = `${current.getBoundingClientRect().width-50}px`;
      currentPage.style.transform = `translateX(${current.getBoundingClientRect().x - nav.getBoundingClientRect().x +25}px)`;
  }
}



//удалить
        var folios = document.querySelectorAll('#js-folio-text');
        folios.forEach(function(i) {
          i.getBoundingClientRect().x;
          var tl = new TimelineMax({repeat:2, repeatDelay:1});
            tl.staggerTo(i, 1, {rotation:360, x:600}, 0.5);

          i.style.transform = 'translateX(-200px)';
        })


var preload = document.querySelector('.preload'),
    preloaderTop = document.querySelector('.preload__top'),
    preloaderBottom = document.querySelector('.preload__bottom');

function delPreload() {
  preload.remove();
  document.body.classList.remove('g-scroll_no');
}

function moveTop() {
  preloaderBottom.style.transform='translateY(-200vh)';
  preloaderTop.style.transform='translateY(-100vh)';
};

function moveBottom() {
  preloaderBottom.style.transform='translateY(-100vh)';
};

window.onload = function () {
  moveBottom();
  preloaderBottom.addEventListener('transitionend', moveTop);
  preloaderTop.addEventListener('transitionend', delPreload);
}<











